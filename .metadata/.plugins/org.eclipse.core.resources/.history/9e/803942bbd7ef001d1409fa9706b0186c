package ejercicio13;

import java.net.HttpURLConnection;
import java.net.URL;
import java.util.Scanner;

import org.json.JSONObject;

public class Programa {
	
	public static void main(String[] args) {

		try {
			URL endpoint = new URL("https://pokeapi.co/api/v2/pokemon/machoke");
			HttpURLConnection con = (HttpURLConnection) endpoint.openConnection();
			con.connect(); 
			int tiempoDeRespuesta = con.getResponseCode();
			if (tiempoDeRespuesta != 200)
			{
				throw new RuntimeException("HttpResponseCode" + tiempoDeRespuesta);			
			}
			else
			{
				StringBuilder informacion = new StringBuilder();
				Scanner sc = new Scanner(endpoint.openStream());
				while (sc.hasNext())
				{
					informacion.append(sc.nextLine());
				}
				sc.close();
				
				System.out.println(informacion);
				
//				String informacionSinCorchetes = informacion.toString().replace("[", "").replace("]", "");
				
				JSONObject data = new JSONObject(informacion);
				
				System.out.println(data);
//				urlGatito = new URL(data.getString("url"));
				String s = data.getString("species");
				JSONObject data2 = new JSONObject(s);
//				System.out.println(data.equals(data2));
			}
		} catch (Exception e) {
			// TODO: handle exception
		}
	}
}
